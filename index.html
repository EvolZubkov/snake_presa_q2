<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è –ó–º–µ–π–∫–∞</title>
    <style>
        :root {
            --snake-size: 300px;
            /* —Ä–∞–∑–º–µ—Ä –æ–¥–Ω–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞ */
            --snake-transition: 0.2s;
            /* –≤—Ä–µ–º—è –ø–µ—Ä–µ—Ö–æ–¥–∞ */
        }

        html {
            /* –ü–ª–∞–≤–Ω—ã–π ¬´–º—è–≥–∫–∏–π¬ª —Å–∫—Ä–æ–ª–ª –ø—Ä–∏ programmatic scroll (scrollIntoView) */
            scroll-behavior: smooth;

        }

        .snake-segment {
            width: var(--snake-size);
            height: var(--snake-size);
            transition: all var(--snake-transition) ease-out;
        }

        .snake-head {
            width: var(--snake-size);
            height: var(--snake-size);
            /* –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –≥–æ–ª–æ–≤—ã –æ—Å—Ç–∞—é—Ç—Å—è */
        }

        .snake-segment {
            position: absolute;
            /* –æ—Å—Ç–∞–ª–æ—Å—å */
            will-change: transform;
            /* –±—Ä–∞—É–∑–µ—Ä –∑–Ω–∞–µ—Ç, —á—Ç–æ –±—É–¥–µ–º –º–µ–Ω—è—Ç—å transform */
            transition: none;
            /* JS‚Äë–∞–Ω–∏–º–∞—Ü–∏—è —Å–∞–º–∞ —Å–≥–ª–∞–∂–∏–≤–∞–µ—Ç */
        }

        /* 1) –û–ø—É—Å—Ç–∏–º –∑–º–µ–π–∫—É –ø–æ–∑–∞–¥–∏ –≤—Å–µ–≥–æ */
        .scroll-snake {
            position: fixed;
            z-index: 0;
            /* –±—ã–ª–æ 999 ‚Äî —Ç–µ–ø–µ—Ä—å ¬´—Ñ–æ–Ω¬ª */
            pointer-events: none;
        }

        /* 2) –î–æ–±–∞–≤–∏–º –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—É—é ¬´—Å—Ç–µ–∫–ª—è–Ω–Ω—É—é¬ª –ø–æ–¥–ª–æ–∂–∫—É —É —Å–ª–∞–π–¥–∞ */
        .slide {
            position: relative;
            /* –¥–ª—è ::before */
            z-index: 2;
            /* —á—Ç–æ–±—ã —Ç–µ–∫—Å—Ç/–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤ –≤–Ω—É—Ç—Ä–∏ –±—ã–ª –ø–æ–≤–µ—Ä—Ö */
        }

        .slide::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: lch(0% 0 0 / 0.302);
            /* –∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ */
            backdrop-filter: blur(1px);
            /* –±–ª—é—Ä —Ñ–æ–Ω–∞ (snake –±—É–¥–µ—Ç –ø–æ–¥ –Ω–∏–º) */
            pointer-events: none;
            z-index: 1;
            /* –ø–æ–¥ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º —Å–ª–∞–π–¥–∞ */
        }

        /* –î–∞–ª—å—à–µ –≤—Å–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å–ª–∞–π–¥–∞ –Ω–∞ z‚Äë—É—Ä–æ–≤–Ω–µ 2 */
        .slide>* {
            position: relative;
            z-index: 2;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #0a0a0a, #1a1a2e);
            color: #00ff00;
            overflow-x: hidden;
        }

        .slide {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            position: relative;
            border: 2px solid #00ff00;
            margin-bottom: 2px;
            background: radial-gradient(circle at center, rgba(0, 255, 0, 0.1), transparent);
        }

        .slide h1 {
            font-size: 10rem;
            text-align: center;
            margin-bottom: 2rem;
            text-shadow: 0 0 20px #00ff00;
            animation: glow 2s ease-in-out infinite alternate;
        }

        .slide h2 {
            font-size: 3rem;
            text-align: center;
            margin-bottom: 1.5rem;
            color: #00ff88;
        }

        .slide p {
            font-size: 1.2rem;
            text-align: center;
            max-width: 800px;
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        @keyframes glow {
            from {
                text-shadow: 0 0 20px #00ff00;
            }

            to {
                text-shadow: 0 0 30px #00ff00, 0 0 40px #00ff00;
            }
        }

        .interactive-element {
            margin: 2rem 0;
            padding: 1rem;
            border: 1px solid #00ff00;
            border-radius: 10px;
            background: rgba(0, 255, 0, 0.05);
            transition: all 0.3s;
        }

        .interactive-element:hover {
            background: rgba(0, 255, 0, 0.1);
            transform: scale(1.02);
        }

        .slide-number {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 1.5rem;
            color: #00ff88;
        }

        .slide:nth-child(even) {
            background: radial-gradient(circle at center, rgba(0, 255, 136, 0.1), transparent);
        }

        /* –ò–≥—Ä–æ–≤–æ–π —Å–ª–∞–π–¥ */
        .game-slide {
            background: radial-gradient(circle at center, rgba(0, 255, 0, 0.15), transparent);
        }

        .game-container {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #00ff00;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }

        .game-controls {
            margin-bottom: 20px;
        }

        .game-controls button {
            background: #00ff00;
            color: #000;
            border: none;
            padding: 12px 24px;
            margin: 0 10px;
            cursor: pointer;
            font-family: inherit;
            border-radius: 5px;
            transition: all 0.3s;
            font-size: 16px;
        }

        .game-controls button:hover {
            background: #00ff88;
            transform: scale(1.05);
        }

        #gameCanvas {
            border: 2px solid #00ff00;
            background: #000;
            margin: 20px 0;
        }

        .score {
            color: #00ff00;
            font-size: 18px;
            margin-top: 10px;
        }

        /* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∑–º–µ–π–∫–∞ –¥–ª—è —Å–∫—Ä–æ–ª–ª–∞ */
        .scroll-snake {
            position: fixed;
            z-index: 1;
            pointer-events: none;
        }

        .snake-segment {
            position: absolute;
            width: 80px;
            height: 80px;
            background: #00ff00;
            border-radius: 3px;
            box-shadow: 0 0 10px #00ff00;
            transition: all 0.1s ease;
        }

        .snake-head {
            position: absolute;
            background: none;
            /* —É–±–∏—Ä–∞–µ–º —Ñ–æ–Ω –∏–∑ .snake-segment */
            box-shadow: none;
            /* —É–±–∏—Ä–∞–µ–º —Ç–µ–Ω—å –∏–∑ .snake-segment */
            width: 160px;
            height: 160px;
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
        }

        .snake-head img {
            display: block;
            width: 100%;
            height: 100%;
        }

        /* –ï–¥–∞ –¥–ª—è –∑–º–µ–π–∫–∏ –Ω–∞ —Å–ª–∞–π–¥–∞—Ö */
        .snake-food {
            position: absolute;
            width: 100px;
            height: 100px;
            /* background: #ff3030; */
            border-radius: 50%;
            /* box-shadow: 0 0 15px #ff3030; */
            z-index: 1;
            animation: pulse 1.5s ease-in-out infinite;
            transition: all 0.3s;
        }

        /* –¢–æ–ª—å–∫–æ —è–±–ª–æ—á–∫–∏ –Ω–∞ slide-6 */
        .snake-food[data-slide-index="6"] {
            z-index: 3 !important;
        }


        .snake-food img {
            display: block;
            width: 100%;
            height: 100%;
        }

        .snake-food.eaten {
            transform: scale(0);
            opacity: 0;
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
                opacity: 1;
            }

            50% {
                transform: scale(1.2);
                opacity: 0.8;
            }
        }

        .navigation {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 1000;
        }

        .nav-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(0, 255, 0, 0.3);
            border: 1px solid #00ff00;
            cursor: pointer;
            transition: all 0.3s;
        }

        .nav-dot.active {
            background: #00ff00;
            box-shadow: 0 0 10px #00ff00;
        }

        /* –°—á–µ—Ç—á–∏–∫ –¥–ª–∏–Ω—ã –∑–º–µ–π–∫–∏ */
        .snake-length-counter {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #00ff00;
            border-radius: 10px;
            padding: 10px 15px;
            color: #00ff00;
            font-size: 16px;
            z-index: 1000;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);
        }

        @media (max-width: 768px) {
            .slide h1 {
                font-size: 2rem;
            }

            .slide h2 {
                font-size: 1.5rem;
            }

            .slide p {
                font-size: 1rem;
            }

            #gameCanvas {
                width: 280px;
                height: 220px;
            }

            .snake-segment {
                width: 15px;
                height: 15px;
            }

            .snake-length-counter {
                top: 10px;
                right: 10px;
                font-size: 14px;
                padding: 8px 12px;
            }
        }

        .corner-block {
            background: #00ff00;
            box-shadow: 0 0 10px #00ff00;
        }

        slide-1 {
            overflow: hidden;
            /* —á—Ç–æ–±—ã –∫–∞—Ä—Ç–∏–Ω–∫–∞ –Ω–µ –≤—ã–ª–µ–∑–∞–ª–∞ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã */
        }

        /* —Ä–∞—Å—Ç—è–≥–∏–≤–∞–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É –Ω–∞ –≤–µ—Å—å —Å–ª–∞–π–¥ */
        .slide-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: contain;
            /* cover ‚Äî –∑–∞–ø–æ–ª–Ω—è–µ—Ç –≤–µ—Å—å –±–ª–æ–∫, –º–æ–∂–Ω–æ object-fit: contain, —á—Ç–æ–±—ã –≤–∏–¥–Ω–æ –±—ã–ª–æ –≤—Å—ë –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ */
            z-index: 10;
        }

        /* –≤–∞—Ä–∏–∞–Ω—Ç —á–µ—Ä–µ–∑ ::before */
        /* .snake-point::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 10px;
            height: 10px;
            background: red;
            border-radius: 50%;
            pointer-events: none;
            z-index: 100;
        } */

        /* –ø–æ–¥–Ω–∏–º–∞–µ–º –≤–µ—Å—å –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å–ª–∞–π–¥–∞ –Ω–∞–¥ –∫–∞—Ä—Ç–∏–Ω–∫–æ–π
        #slide-1>*:not(.slide-image) {
            position: relative;
            z-index: 1;
        } */
    </style>
</head>

<body>
    <!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∑–º–µ–π–∫–∞ –¥–ª—è —Å–∫—Ä–æ–ª–ª–∞ -->
    <div class="scroll-snake" id="scrollSnake"></div>

    <!-- –°—á–µ—Ç—á–∏–∫ –¥–ª–∏–Ω—ã –∑–º–µ–π–∫–∏ -->
    <div class="snake-length-counter">
        üêç –î–ª–∏–Ω–∞: <span id="snakeLength">4</span>
    </div>

    <div class="navigation">
        <div class="nav-dot active" onclick="scrollToSlide(0)"></div>
        <div class="nav-dot" onclick="scrollToSlide(1)"></div>
        <div class="nav-dot" onclick="scrollToSlide(2)"></div>
        <div class="nav-dot" onclick="scrollToSlide(3)"></div>
        <div class="nav-dot" onclick="scrollToSlide(4)"></div>
        <div class="nav-dot" onclick="scrollToSlide(5)"></div>
        <div class="nav-dot" onclick="scrollToSlide(6)"></div>
        <div class="nav-dot" onclick="scrollToSlide(7)"></div>
        <div class="nav-dot" onclick="scrollToSlide(8)"></div>
        <div class="nav-dot" onclick="scrollToSlide(9)"></div>
        <div class="nav-dot" onclick="scrollToSlide(10)"></div>
        <div class="nav-dot" onclick="scrollToSlide(11)"></div>
        <div class="nav-dot" onclick="scrollToSlide(12)"></div>
        <div class="nav-dot" onclick="scrollToSlide(13)"></div>
        <div class="nav-dot" onclick="scrollToSlide(14)"></div>
    </div>

    <div class="slide" id="slide-0">
        <div class="snake-point" data-order="1" style="position:absolute; left:50%; top:-5%;  width:1px; height:1px;">
        </div>
        <div class="snake-point" data-order="2" style="position:absolute; left:15%; top:75%; width:1px; height:1px;">
        </div>
        <img src="image-219.png" alt="–û–±—â–∏–µ —Ü–∏—Ñ—Ä—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏" class="slide-image" />
        <div class="slide-number">01/15</div>

    </div>

    <div class="slide" id="slide-1">
        <div class="snake-point" data-order="3" style="position:absolute; left:90%; top:10%; width:1px; height:1px;">
        </div>
        <div class="snake-point" data-order="4.1" style="position:absolute; left:10%; top:90%; width:1px; height:1px;">
        </div>
        <img src="image-220-1.png" alt="–û–±—â–∏–µ —Ü–∏—Ñ—Ä—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏" class="slide-image" />
        <div class="slide-number">02/15</div>

    </div>

    <div class="slide" id="slide-2">
        <div class="snake-point" data-order="5" style="position:absolute; left:30%; top:80%; width:1px; height:1px;">
        </div>
        <div class="snake-point" data-order="6" style="position:absolute; left:50%; top:40%; width:1px; height:1px;">
        </div>
        <img src="image-221.png" alt="–û–±—â–∏–µ —Ü–∏—Ñ—Ä—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏" class="slide-image" />
        <div class="slide-number">03/15</div>

    </div>

    <div class="slide" id="slide-3">
        <div class="snake-point" data-order="7" style="position:absolute; left:50%; top:40%; width:1px; height:1px;">
        </div>
        <div class="snake-point" data-order="8" style="position:absolute; left:60%; top:60%; width:1px; height:1px;">
        </div>
        <img src="image-222.png" alt="–û–±—â–∏–µ —Ü–∏—Ñ—Ä—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏" class="slide-image" />
        <div class="slide-number">04/15</div>
    </div>

    <div class="slide" id="slide-4">
        <div class="snake-point" data-order="9" style="position:absolute; left:80%; top:30%; width:1px; height:1px;">
        </div>
        <div class="snake-point" data-order="10" style="position:absolute; left:40%; top:80%; width:1px; height:1px;">
        </div>
        <img src="image-223.png" alt="–û–±—â–∏–µ —Ü–∏—Ñ—Ä—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏" class="slide-image" />
        <div class="slide-number">05/15</div>
    </div>

    <div class="slide" id="slide-5">
        <div class="snake-point" data-order="11" style="position:absolute; left:10%; top:90%; width:1px; height:1px;">
        </div>
        <div class="snake-point" data-order="12" style="position:absolute; left:75%; top:70%; width:1px; height:1px;">
        </div>
        <img src="image-224.png" alt="–û–±—â–∏–µ —Ü–∏—Ñ—Ä—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏" class="slide-image" />
        <div class="slide-number">06/15</div>
    </div>

    <div class="slide" id="slide-6">
        <div class="snake-point" data-order="13" style="position:absolute; left:73%; top:57%; width:1px; height:1px;">
        </div>
        <div class="snake-point" data-order="14" style="position:absolute; left:30%; top:80%; width:1px; height:1px;">
        </div>
        <img src="image-225.png" alt="–û–±—â–∏–µ —Ü–∏—Ñ—Ä—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏" class="slide-image" />
        <div class="slide-number">07/15</div>
    </div>

    <div class="slide" id="slide-7">
        <div class="snake-point" data-order="15" style="position:absolute; left:30%; top:80%; width:1px; height:1px;">
        </div>
        <div class="snake-point" data-order="16" style="position:absolute; left:80%; top:50%; width:1px; height:1px;">
        </div>
        <img src="image-226.png" alt="–û–±—â–∏–µ —Ü–∏—Ñ—Ä—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏" class="slide-image" />
        <div class="slide-number">08/15</div>
    </div>

    <div class="slide" id="slide-8">
        <div class="snake-point" data-order="17" style="position:absolute; left:90%; top:60%; width:1px; height:1px;">
        </div>
        <div class="snake-point" data-order="18" style="position:absolute; left:50%; top:90%; width:1px; height:1px;">
        </div>
        <img src="image-227.png" alt="–û–±—â–∏–µ —Ü–∏—Ñ—Ä—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏" class="slide-image" />
        <div class="slide-number">09/15</div>
    </div>

    <div class="slide" id="slide-9">
        <div class="snake-point" data-order="19" style="position:absolute; left:40%; top:60%; width:1px; height:1px;">
        </div>
        <div class="snake-point" data-order="20" style="position:absolute; left:60%; top:80%; width:1px; height:1px;">
        </div>
        <img src="image-228.png" alt="–û–±—â–∏–µ —Ü–∏—Ñ—Ä—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏" class="slide-image" />
        <div class="slide-number">10/15</div>
    </div>

    <div class="slide" id="slide-10">
        <div class="snake-point" data-order="21" style="position:absolute; left:30%; top:30%; width:1px; height:1px;">
        </div>
        <div class="snake-point" data-order="22" style="position:absolute; left:70%; top:40%; width:1px; height:1px;">
        </div>
        <img src="image-230.png" alt="–û–±—â–∏–µ —Ü–∏—Ñ—Ä—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏" class="slide-image" />
        <div class="slide-number">11/15</div>
    </div>

    <div class="slide" id="slide-11">
        <div class="snake-point" data-order="23" style="position:absolute; left:70%; top:40%; width:1px; height:1px;">
        </div>
        <div class="snake-point" data-order="24" style="position:absolute; left:50%; top:80%; width:1px; height:1px;">
        </div>
        <img src="image-231.png" alt="–û–±—â–∏–µ —Ü–∏—Ñ—Ä—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏" class="slide-image" />
        <div class="slide-number">12/15</div>
    </div>

    <div class="slide" id="slide-12">
        <div class="snake-point" data-order="25" style="position:absolute; left:50%; top:80%; width:1px; height:1px;">
        </div>
        <div class="snake-point" data-order="26" style="position:absolute; left:30%; top:60%; width:1px; height:1px;">
        </div>
        <img src="image-232.png" alt="–û–±—â–∏–µ —Ü–∏—Ñ—Ä—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏" class="slide-image" />
        <div class="slide-number">13/15</div>
    </div>

    <div class="slide" id="slide-13">
        <div class="snake-point" data-order="27" style="position:absolute; left:30%; top:10%; width:1px; height:1px;">
        </div>
        <div class="snake-point" data-order="28" style="position:absolute; left:70%; top:10%; width:1px; height:1px;">
        </div>
        <img src="image-233.png" alt="–û–±—â–∏–µ —Ü–∏—Ñ—Ä—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏" class="slide-image" />
        <div class="slide-number">14/15</div>
    </div>

    <div class="slide game-slide" id="slide-14">
        <div class="snake-point" data-order="29" style="position:absolute; left:50%; top:50%; width:1px; height:1px;">
        </div>
        <div class="snake-point" data-order="30" style="position:absolute; left:50%; top:50%; width:1px; height:1px;">
        </div>
        <div class="slide-number">15/15</div>
        <h1>üéÆ –ò–ì–†–ê–ô–¢–ï –í –ó–ú–ï–ô–ö–£!</h1>
        <p>–ê —Ç–µ–ø–µ—Ä—å –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–∞–º–∏! –£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å—Ç—Ä–µ–ª–∫–∞–º–∏ –∏–ª–∏ –∫–ª–∞–≤–∏—à–∞–º–∏ WASD.</p>

        <div class="game-container">
            <div class="game-controls">
                <button onclick="startGame()">–°—Ç–∞—Ä—Ç</button>
                <button onclick="pauseGame()">–ü–∞—É–∑–∞</button>
                <button onclick="resetGame()">–°–±—Ä–æ—Å</button>
            </div>
            <canvas id="gameCanvas" width="800" height="640"></canvas>
            <div class="score">–°—á—ë—Ç: <span id="score">0</span> | –õ—É—á—à–∏–π: <span id="bestScore">0</span></div>
        </div>

        <div class="interactive-element">
            <p>üéØ –¶–µ–ª—å: –Ω–∞–±–µ—Ä–∏—Ç–µ –∫–∞–∫ –º–æ–∂–Ω–æ –±–æ–ª—å—à–µ –æ—á–∫–æ–≤, –∏–∑–±–µ–≥–∞—è —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π!</p>
        </div>
    </div>

    <script>
        // –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∑–º–µ–π–∫–∞ –¥–ª—è —Å–∫—Ä–æ–ª–ª–∞
        class ScrollSnake {
            constructor() {
                this.container = document.getElementById('scrollSnake');
                this.segments = [];
                this.segmentCount = 4;
                // –±–∞–∑–æ–≤—ã–π ¬´–º–∞–ª—ã–π¬ª —Ä–∞–∑—Ä—ã–≤ –º–µ–∂–¥—É —Å–µ–≥–º–µ–Ω—Ç–∞–º–∏ —Ç–µ–ª–∞
                this.bodyGap = 5;
                // ¬´–±–æ–ª—å—à–æ–π¬ª —Ä–∞–∑—Ä—ã–≤ –º–µ–∂–¥—É –≥–æ–ª–æ–≤–æ–π –∏ –ø–µ—Ä–≤—ã–º —Å–µ–≥–º–µ–Ω—Ç–æ–º
                this.headGap = 6;
                this.pointsPerSlide = 60; // –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ—á–µ–∫ –ø—É—Ç–∏ –Ω–∞ —Å–ª–∞–π–¥ ‚Äî —á–µ–º –±–æ–ª—å—à–µ, —Ç–µ–º –ø–ª–∞–≤–Ω–µ–µ
                this.segmentSize = 20;
                this.path = [];
                this.currentPathIndex = 0;
                this.speed = 2;
                this.foodItems = [];
                this.eatenFood = new Set();
                this.snakeLengthElement = document.getElementById('snakeLength');

                this.createSegments();
                this.generatePath();
                this.createFoodItems();
                this.animate();
                // –§–ª–∞–≥, —á—Ç–æ–±—ã –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä
                this.markerTriggered = false;
                this.tailChanged = false;  // –Ω–æ–≤—ã–π —Ñ–ª–∞–≥ –¥–ª—è —Ö–≤–æ—Å—Ç–∞
            }

            createSegments() {
                for (let i = 0; i < this.segmentCount; i++) {
                    const segment = document.createElement('div');
                    segment.className = 'snake-segment';

                    if (i === 0) {
                        // —ç—Ç–æ –≥–æ–ª–æ–≤–∞
                        segment.classList.add('snake-head');

                        // –≤—Å—Ç–∞–≤–ª—è–µ–º –≤–∞—à–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                        const img = document.createElement('img');
                        img.src = 'head.svg'; // –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É
                        img.alt = 'snake head';
                        segment.appendChild(img);
                    }

                    this.container.appendChild(segment);
                    this.segments.push({
                        element: segment,
                        x: -100,
                        y: window.innerHeight / 2
                    });
                }
            }

            addSegment() {
                // 1) —Å–æ–∑–¥–∞—ë–º DOM‚Äë—ç–ª–µ–º–µ–Ω—Ç
                const segment = document.createElement('div');
                segment.className = 'snake-segment';
                this.container.appendChild(segment);

                // 2) –±–µ—Ä—ë–º —Ö–≤–æ—Å—Ç ‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç –º–∞—Å—Å–∏–≤–∞
                const last = this.segments[this.segments.length - 1];

                // 3) —Å—Ä–∞–∑—É –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ–º –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –Ω–∞ —Ç–µ—Ö –∂–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö
                //    –µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ transform-–ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:
                segment.style.transform = `translate(${last.x}px, ${last.y}px)`;

                // 4) –ø—É—à–∏–º –≤ –º–∞—Å—Å–∏–≤ —Å —Ç–∞–∫–∏–º–∏ –∂–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏
                this.segments.push({
                    element: segment,
                    x: last.x,
                    y: last.y
                });

                // 5) –æ–±–Ω–æ–≤–ª—è–µ–º —Å—á—ë—Ç—á–∏–∫
                this.segmentCount++;
                this.snakeLengthElement.textContent = this.segmentCount;
            }


            createFoodItems() {
                // —É–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ –ø—É—Ç—å —É–∂–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω
                if (!this.path.length) this.generatePath();

                const slides = document.querySelectorAll('.slide');
                for (let i = 1; i < slides.length; i++) {
                    // –§–∏–ª—å—Ç—Ä—É–µ–º –≤—Å–µ —Ç–æ—á–∫–∏, –æ—Ç–Ω–æ—Å—è—â–∏–µ—Å—è –∫ —Å–ª–∞–π–¥—É i
                    const pts = this.path.filter(pt => pt.slideIndex === i);
                    if (pts.length === 0) continue;

                    // –ë–µ—Ä—ë–º —Å–ª—É—á–∞–π–Ω—ã–π –∏–Ω–¥–µ–∫—Å –∏–∑ —ç—Ç–æ–≥–æ –Ω–∞–±–æ—Ä–∞
                    const randIndex = Math.floor(Math.random() * pts.length);
                    const { x, y } = pts[randIndex];

                    // –°–æ–∑–¥–∞—ë–º —ç–ª–µ–º–µ–Ω—Ç –µ–¥—ã
                    const food = document.createElement('div');
                    food.className = 'snake-food';
                    const img = document.createElement('img');
                    img.src = 'apple.svg';       // –ø—É—Ç—å –∫ –≤–∞—à–µ–º—É SVG
                    img.alt = 'üçé';
                    food.appendChild(img)
                    food.dataset.slideIndex = i;

                    // –°—Ç–∞–≤–∏–º —Ä–æ–≤–Ω–æ –Ω–∞ —ç—Ç—É —Ç–æ—á–∫—É –ø—É—Ç–∏
                    food.style.left = `${x}px`;
                    food.style.top = `${y}px`;

                    document.body.appendChild(food);
                    this.foodItems.push({
                        element: food,
                        slideIndex: i,
                        x, y,
                        eaten: false
                    });
                }
            }



            generatePath() {
                this.path = [];

                // 1) –°–æ—Ä—Ç–∏—Ä—É–µ–º –º–∞—Ä–∫–µ—Ä—ã
                const markers = Array.from(document.querySelectorAll('.snake-point'))
                    .sort((a, b) => Number(a.dataset.order) - Number(b.dataset.order));

                // 2) –°—á–∏—Ç–∞–µ–º, —Å–∫–æ–ª—å–∫–æ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Å—Ç–∞–≤—à–∏—Ö:
                const maxLag = (this.segmentCount - 1) * this.segmentGap;
                // –î–æ–±–∞–≤–∏–º —Å–≤–µ—Ä—Ö—É –µ—â—ë –Ω–µ–±–æ–ª—å—à–æ–π –∑–∞–ø–∞—Å (+10) –¥–ª—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏
                const preCount = maxLag + 10;
                const postCount = preCount;

                // 3) –ü–æ–∑–∏—Ü–∏—è –ø–µ—Ä–≤–æ–≥–æ –º–∞—Ä–∫–µ—Ä–∞
                const firstRect = markers[0].getBoundingClientRect();
                const startX = firstRect.left + firstRect.width / 2;
                const startY = window.pageYOffset + firstRect.top + firstRect.height / 2;

                // 4) –ü—Ä–µ—Ñ–∏–∫—Å–Ω—ã–µ —Ç–æ—á–∫–∏ ‚Äì –ø–æ–¥–Ω–∏–º–∞–µ–º –≤—ã—à–µ —ç–∫—Ä–∞–Ω–∞
                for (let i = preCount; i > 0; i--) {
                    this.path.push({
                        x: startX,
                        y: startY - (i * window.innerHeight) / preCount,
                        slideIndex: 0
                    });
                }

                // 5) –õ–∏–Ω–µ–π–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –º–µ–∂–¥—É –º–∞—Ä–∫–µ—Ä–∞–º–∏ (–∫–∞–∫ –±—ã–ª–æ)
                const segmentsBetween = 60;
                for (let i = 0; i < markers.length - 1; i++) {
                    const A = markers[i], B = markers[i + 1];
                    const rA = A.getBoundingClientRect(), rB = B.getBoundingClientRect();
                    const Ax = rA.left + rA.width / 2, Ay = window.pageYOffset + rA.top + rA.height / 2;
                    const Bx = rB.left + rB.width / 2, By = window.pageYOffset + rB.top + rB.height / 2;
                    for (let t = 0; t < segmentsBetween; t++) {
                        const f = t / (segmentsBetween - 1);
                        this.path.push({
                            x: Ax + (Bx - Ax) * f,
                            y: Ay + (By - Ay) * f,
                            slideIndex: f < 0.5
                                ? Number(A.closest('.slide').id.replace('slide-', ''))
                                : Number(B.closest('.slide').id.replace('slide-', ''))
                        });
                    }
                }

                // 6) –ü–æ—Å—Ç—Ñ–∏–∫—Å–Ω—ã–µ —Ç–æ—á–∫–∏ ‚Äì —É–≤–æ–¥–∏–º –Ω–∏–∂–µ —ç–∫—Ä–∞–Ω–∞
                const last = markers[markers.length - 1];
                const lRect = last.getBoundingClientRect();
                const endX = lRect.left + lRect.width / 2;
                const endY = window.pageYOffset + lRect.top + lRect.height / 2;
                const lastIdx = Number(last.closest('.slide').id.replace('slide-', ''));
                for (let i = 1; i <= postCount; i++) {
                    this.path.push({
                        x: endX,
                        y: endY + (i * window.innerHeight) / postCount,
                        slideIndex: lastIdx
                    });
                }
                // find the DOM‚Äë—ç–ª–µ–º–µ–Ω—Ç‚Äë–º–∞—Ä–∫–µ—Ä
                const markerEl = document.querySelector('#slide-6 .snake-point[data-order="13"]');
                const rect = markerEl.getBoundingClientRect();

                // —Å–ª–æ–∂–∏–º window.pageYOffset, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤ path.y ‚Äî –∞–±—Å–æ–ª—é—Ç–Ω–∞—è Y
                this.markerCoords = {
                    x: rect.left + rect.width / 2,
                    y: window.pageYOffset + rect.top + rect.height / 2
                };

                // —Ñ–ª–∞–≥, —á—Ç–æ–±—ã —Å—Ä–∞–±–∞—Ç—ã–≤–∞–ª–æ –û–î–ò–ù —Ä–∞–∑
                this.markerTriggered = false;

            }



            checkFoodCollision(headX, headY) {
                this.foodItems.forEach((food, index) => {
                    if (!food.eaten) {
                        const distance = Math.sqrt(
                            Math.pow(headX - food.x, 2) +
                            Math.pow(headY - food.y, 2)
                        );

                        if (distance < 25) { // –†–∞–¥–∏—É—Å –∫–æ–ª–ª–∏–∑–∏–∏
                            food.eaten = true;
                            food.element.classList.add('eaten');
                            this.addSegment();

                            // –£–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç –µ–¥—ã —á–µ—Ä–µ–∑ –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
                            setTimeout(() => {
                                food.element.remove();
                            }, 100);
                        }
                    }
                });
            }


            updatePosition() {
                const scrollY = window.pageYOffset;
                const documentHeight = document.documentElement.scrollHeight - window.innerHeight;
                const scrollProgress = scrollY / documentHeight;

                // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω–¥–µ–∫—Å –ø—É—Ç–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–∫—Ä–æ–ª–ª–∞
                this.currentPathIndex = Math.floor(scrollProgress * (this.path.length - 1));


                // –ø–æ–ª—É—á–∞–µ–º —Ç–æ—á–∫—É –ø—É—Ç–∏ —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏ –≥–æ–ª–æ–≤—ã
                const headPoint = this.path[this.currentPathIndex];
                if (!this.markerTriggered && headPoint) {
                    // –ø–µ—Ä–µ–≤–æ–¥–∏–º headPoint.y –≤ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —ç–∫—Ä–∞–Ω–∞:
                    const headX = headPoint.x;
                    const headY = headPoint.y - window.pageYOffset + window.pageYOffset;

                    // –≤—ã—á–∏—Å–ª—è–µ–º –¥–∏—Å—Ç–∞–Ω—Ü–∏—é –¥–æ –º–∞—Ä–∫–µ—Ä–∞
                    const dx = headX - this.markerCoords.x;
                    const dy = headY - this.markerCoords.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);

                    // –ø–æ—Ä–æ–≥ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è: –ø–æ–ª–æ–≤–∏–Ω–∞ —à–∏—Ä–∏–Ω—ã —Å–µ–≥–º–µ–Ω—Ç–∞
                    const threshold = this.segmentSize / 2;

                    if (distance < threshold) {
                        this.markerTriggered = true;

                        // –∞) –º–µ–Ω—è–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É
                        const img = document.querySelector('#slide-6 .slide-image');
                        if (img) img.src = 'image-2251.png';


                        if (!this.tailChanged) {
                            this.tailChanged = true;
                            const tailEl = this.segments[this.segments.length - 1].element;
                            tailEl.style.background = 'none';
                            tailEl.style.boxShadow = 'none';
                            tailEl.style.border = 'none';
                            tailEl.innerHTML = '';
                            const img = document.createElement('img');
                            img.src = 'image-234.png';
                            img.alt = 'snake tail';
                            img.style.width = '100%';
                            img.style.height = '100%';
                            img.style.display = 'block';
                            img.style.pointerEvents = 'none';
                            tailEl.appendChild(img);
                        }
                    }
                }






                // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏–∏ —Å–µ–≥–º–µ–Ω—Ç–æ–≤
                for (let i = 0; i < this.segments.length; i++) {
                    // —Å—á–∏—Ç–∞–µ–º –æ–±—â–µ–µ –æ—Ç—Å—Ç–∞–≤–∞–Ω–∏–µ –≤ —à–∞–≥–∞—Ö –ø—É—Ç–∏
                    let lag = 0;
                    for (let j = 1; j <= i; j++) {
                        // j==1 ‚Äî —ç—Ç–æ –ø–µ—Ä–≤—ã–π —Å–µ–≥–º–µ–Ω—Ç –ø–æ—Å–ª–µ –≥–æ–ª–æ–≤—ã
                        lag += (j === 1 ? this.headGap : this.bodyGap);
                    }
                    const pathIndex = Math.max(0, this.currentPathIndex - lag);
                    if (pathIndex < this.path.length) {
                        const point = this.path[pathIndex];
                        this.smoothFactor = 0.1; // –ø–ª–∞–≤–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è

                        const targetX = point.x;
                        const targetY = point.y - scrollY;

                        // lerp
                        this.segments[i].x += (targetX - this.segments[i].x) * this.smoothFactor;
                        this.segments[i].y += (targetY - this.segments[i].y) * this.smoothFactor;

                        const el = this.segments[i].element;
                        const cw = el.offsetWidth;
                        const ch = el.offsetHeight;
                        const cx = this.segments[i].x;
                        const cy = this.segments[i].y;
                        el.style.transform = `translate(${cx - cw / 2}px, ${cy - ch / 2}px)`;

                        // –≤–∏–¥–∏–º–æ—Å—Ç—å
                        const visible = (point.y - scrollY) >= -50 && (point.y - scrollY) <= window.innerHeight + 50;
                        el.style.opacity = visible ? '1' : '0';

                        // –∫–æ–ª–ª–∏–∑–∏—è —Å –µ–¥–æ–π
                        if (i === 0 && visible) {
                            this.checkFoodCollision(point.x, point.y);
                        }
                    }
                }
            }

            animate() {
                this.updatePosition();
                requestAnimationFrame(() => this.animate());
            }
        }

        // –ò–≥—Ä–∞ –ó–º–µ–π–∫–∞
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const scoreElement = document.getElementById('score');
        const bestScoreElement = document.getElementById('bestScore');

        const gridSize = 32;
        const tileCount = canvas.width / gridSize;

        let snake = [
            { x: 10, y: 10 }
        ];
        let food = {};
        let dx = 0;
        let dy = 0;
        let score = 0;
        let bestScore = localStorage.getItem('snakeBestScore') || 0;
        let gameRunning = false;
        let gameLoop;

        bestScoreElement.textContent = bestScore;

        function randomFood() {
            food = {
                x: Math.floor(Math.random() * (canvas.width / gridSize)),
                y: Math.floor(Math.random() * (canvas.height / gridSize))
            };

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ–±—ã –µ–¥–∞ –Ω–µ –ø–æ—è–≤–∏–ª–∞—Å—å –Ω–∞ –∑–º–µ–π–∫–µ
            while (snake.some(segment => segment.x === food.x && segment.y === food.y)) {
                food = {
                    x: Math.floor(Math.random() * (canvas.width / gridSize)),
                    y: Math.floor(Math.random() * (canvas.height / gridSize))
                };
            }
        }

        function drawGame() {
            // –û—á–∏—Å—Ç–∫–∞ canvas
            ctx.fillStyle = 'black';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // –†–∏—Å–æ–≤–∞–Ω–∏–µ —Å–µ—Ç–∫–∏
            ctx.strokeStyle = 'rgba(0, 255, 0, 0.1)';
            ctx.lineWidth = 1;
            for (let x = 0; x <= canvas.width; x += gridSize) {
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, canvas.height);
                ctx.stroke();
            }
            for (let y = 0; y <= canvas.height; y += gridSize) {
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(canvas.width, y);
                ctx.stroke();
            }

            // –†–∏—Å–æ–≤–∞–Ω–∏–µ –∑–º–µ–π–∫–∏
            snake.forEach((segment, index) => {
                if (index === 0) {
                    // –ì–æ–ª–æ–≤–∞
                    ctx.fillStyle = '#00ff88';
                    ctx.shadowBlur = 10;
                    ctx.shadowColor = '#00ff88';
                } else {
                    // –¢–µ–ª–æ
                    ctx.fillStyle = '#00ff00';
                    ctx.shadowBlur = 5;
                    ctx.shadowColor = '#00ff00';
                }

                ctx.fillRect(
                    segment.x * gridSize + 1,
                    segment.y * gridSize + 1,
                    gridSize - 2,
                    gridSize - 2
                );
            });

            ctx.shadowBlur = 0;

            // –†–∏—Å–æ–≤–∞–Ω–∏–µ –µ–¥—ã
            ctx.fillStyle = '#ff3030';
            ctx.shadowBlur = 15;
            ctx.shadowColor = '#ff3030';
            ctx.fillRect(
                food.x * gridSize + 2,
                food.y * gridSize + 2,
                gridSize - 4,
                gridSize - 4
            );
            ctx.shadowBlur = 0;
        }

        function moveSnake() {
            if (!gameRunning) return;

            const head = { x: snake[0].x + dx, y: snake[0].y + dy };

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü
            if (head.x < 0 || head.x >= canvas.width / gridSize ||
                head.y < 0 || head.y >= canvas.height / gridSize) {
                gameOver();
                return;
            }

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∞–º–æ–ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è
            if (snake.some(segment => segment.x === head.x && segment.y === head.y)) {
                gameOver();
                return;
            }

            snake.unshift(head);

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –µ–¥—ã
            if (head.x === food.x && head.y === food.y) {
                score += 30;
                scoreElement.textContent = score;

                if (score > bestScore) {
                    bestScore = score;
                    bestScoreElement.textContent = bestScore;
                    localStorage.setItem('snakeBestScore', bestScore);
                }

                randomFood();
            } else {
                snake.pop();
            }

            drawGame();
        }

        function gameOver() {
            gameRunning = false;
            clearInterval(gameLoop);

            ctx.fillStyle = 'rgba(255, 0, 0, 0.8)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 32px Courier New';
            ctx.textAlign = 'center';
            ctx.fillText('GAME OVER', canvas.width / 2, canvas.height / 2 - 20);

            ctx.font = '18px Courier New';
            ctx.fillText('–ù–∞–∂–º–∏—Ç–µ "–°–±—Ä–æ—Å" –¥–ª—è –Ω–æ–≤–æ–π –∏–≥—Ä—ã', canvas.width / 2, canvas.height / 2 + 20);
            ctx.textAlign = 'left';
        }

        function startGame() {
            if (gameRunning) return;

            if (snake.length === 1 && dx === 0 && dy === 0) {
                // –ù–æ–≤–∞—è –∏–≥—Ä–∞
                dx = 1;
                dy = 0;
            }

            gameRunning = true;
            gameLoop = setInterval(moveSnake, 150);
        }

        function pauseGame() {
            if (gameRunning) {
                gameRunning = false;
                clearInterval(gameLoop);
            } else if (snake.length > 1 || dx !== 0 || dy !== 0) {
                gameRunning = true;
                gameLoop = setInterval(moveSnake, 150);
            }
        }

        function resetGame() {
            gameRunning = false;
            clearInterval(gameLoop);
            snake = [{ x: 10, y: 10 }];
            dx = 0;
            dy = 0;
            score = 0;
            scoreElement.textContent = score;
            randomFood();
            drawGame();
        }

        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
        document.addEventListener('keydown', (e) => {
            if (!gameRunning) return;

            // –ë–ª–æ–∫–∏—Ä—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å–∫—Ä–æ–ª–ª —Å—Ç—Ä–µ–ª–∫–∞–º–∏ –∏ WASD
            if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight',
                'w', 'W', 'a', 'A', 's', 'S', 'd', 'D']
                .includes(e.key)) {
                e.preventDefault();
            }

            switch (e.key) {
                case 'ArrowUp':
                case 'w':
                case 'W':
                case '–¶':
                case '—Ü':
                    if (dy === 0) { dx = 0; dy = -1; }
                    break;
                case 'ArrowDown':
                case 's':
                case 'S':
                case '—ã':
                case '–´':
                    if (dy === 0) { dx = 0; dy = 1; }
                    break;
                case 'ArrowLeft':
                case 'a':
                case 'A':
                case '—Ñ':
                case '–§':
                    if (dx === 0) { dx = -1; dy = 0; }
                    break;
                case 'ArrowRight':
                case 'd':
                case 'D':
                case '–í':
                case '–≤':
                    if (dx === 0) { dx = 1; dy = 0; }
                    break;
            }
        });

        // –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å–ª–∞–π–¥–∞–º
        function scrollToSlide(index) {
            const slide = document.getElementById(`slide-${index}`);
            slide.scrollIntoView({ behavior: 'smooth' });
        }

        // –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–∫—Ä–æ–ª–ª–∞ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
        window.addEventListener('scroll', () => {
            const slides = document.querySelectorAll('.slide');
            let activeIndex = 0;

            slides.forEach((slide, idx) => {
                const rect = slide.getBoundingClientRect();
                if (rect.top <= window.innerHeight / 2 && rect.bottom >= window.innerHeight / 2) {
                    activeIndex = idx;
                }
            });
            const dots = document.querySelectorAll('.nav-dot');
            dots.forEach((dot, idx) => {
                dot.classList.toggle('active', idx === activeIndex);
            });

            const snakeEl = document.getElementById('scrollSnake');
            if (activeIndex === slides.length - 1) {
                // –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä—è—á–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
                snakeEl.style.opacity = '0';
                // –ª–∏–±–æ snakeEl.style.display = 'none';
            } else {
                snakeEl.style.opacity = '1';
                // –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ display:none ‚Äî –≤–µ—Ä–Ω—É—Ç—å display:''
            }
            if (activeIndex === 6) {
                snakeEl.style.zIndex = '10';
            } else {
                snakeEl.style.zIndex = '1';
            }
        });


        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—É—Ç–∏ –∑–º–µ–π–∫–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
        window.addEventListener('resize', () => {
            if (window.scrollSnake) {
                window.scrollSnake.generatePath();
                // –ü–µ—Ä–µ—Å–æ–∑–¥–∞—ë–º –µ–¥—É –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
                window.scrollSnake.foodItems.forEach(food => {
                    if (!food.eaten) {
                        food.element.remove();
                    }
                });
                window.scrollSnake.foodItems = [];
                window.scrollSnake.createFoodItems();
            }
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', () => {
            randomFood();
            drawGame();

            // –°–æ–∑–¥–∞—ë–º –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∑–º–µ–π–∫—É –¥–ª—è —Å–∫—Ä–æ–ª–ª–∞
            window.scrollSnake = new ScrollSnake();
        });
    </script>
</body>

</html>
